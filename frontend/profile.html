<!DOCTYPE html>
<html ng-app="articleApp">
<head>
    <title>Profil Saya - WorldExplorer</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="script.js"></script>
    <script src="controllers/profileController.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body ng-controller="ProfileController">
    <div class="container mt-5">
        <h2 class="text-center mb-4">Profil Saya</h2>
        
        <!-- Alert Messages -->
        <div ng-if="successMessage" class="alert alert-success">{{successMessage}}</div>
        <div ng-if="errorMessage" class="alert alert-danger">{{errorMessage}}</div>

        <!-- Profile Form -->
        <form ng-submit="updateProfile()">
            <div class="mb-3">
                <label>Username</label>
                <input type="text" class="form-control" ng-model="profile.username" required>
            </div>
            <div class="mb-3">
                <label>Email</label>
                <input type="email" class="form-control" ng-model="profile.email" required>
            </div>
            <button type="submit" class="btn btn-primary w-100" ng-disabled="loading">
                {{loading ? 'Menyimpan...' : 'Simpan Perubahan'}}
            </button>
        </form>

        <hr>

        <!-- Password Form -->
        <h4>Ganti Password</h4>
        <form ng-submit="changePassword()">
            <div class="mb-3">
                <label>Password Saat ini</label>
                <input type="password" class="form-control" ng-model="passwordData.currentPassword" required>
            </div>
            <div class="mb-3">
                <label>Password Baru</label>
                <input type="password" class="form-control" ng-model="passwordData.newPassword" required>
            </div>
            <button type="submit" class="btn btn-warning w-100">Ganti Password</button>
        </form>

        <hr>

        <!-- Delete Account -->
        <div class="text-center mt-4">
            <h4 class="text-danger">Hapus Akun</h4>
            <p>Perhatian: Tindakan ini tidak dapat dibatalkan</p>
            <button class="btn btn-danger" ng-click="deleteAccount()">Hapus Akun Saya</button>
        </div>
    </div>
</body>
</html> 